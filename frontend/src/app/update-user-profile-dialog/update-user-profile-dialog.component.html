<div class="dialog-container">
  <div сlass="dialog-header">
    <h2 class="dialog-title">Изменить профиль</h2>
    <button class="close-btn" (click)="closeDialog(false)"><img src="assets/close.svg" alt="Закрыть"></button>
  </div>

  <div *ngIf="loading" class="loading-text">Загрузка...</div>
  <div *ngIf="errorMsg" class="error-msg">{{ errorMsg }}</div>
  <form *ngIf="!loading" (ngSubmit)="save()">
    <div class="block">
      <label>Имя пользователя</label>
      <input class="input" type="text" [(ngModel)]="form.username" name="username" required />
    </div>
    <div class="block">
      <label>Описание профиля</label>
      <textarea class="input" [(ngModel)]="form.bio" name="bio"></textarea>
    </div>
    <div class="block">
      <label>Место проживания</label>
      <input class="input" type="text" [(ngModel)]="form.location" name="location" />
    </div>
    <div class="block">
      <label>Год рождения</label>
      <input class="input" type="date" [(ngModel)]="form.birth_date" name="birth_date" />
    </div>
    <div class="block">
      <label>Email</label>
      <input class="input" type="email" [(ngModel)]="form.email" name="email" />
    </div>
    <div class="block">
      <label>Публичность</label>
      <div class="publicity-switch">
        <button type="button" [class.active]="publicity" (click)="setPublicity(true)" [disabled]="publicityLoading">Публичный</button>
        <button type="button" [class.active]="!publicity" (click)="setPublicity(false)" [disabled]="publicityLoading">Приватный</button>
      </div>
    </div>
    <div class="block">
      <label>Ссылка на аватар</label>
      <input class="input" type="text" [(ngModel)]="form.avatar" name="avatar" />
    </div>
    <div class="collab-actions" style="display: flex; justify-content: center; align-items: center;">
      <button type="submit" class="action-btn" [disabled]="saving">Сохранить изменения</button>
    </div>
  </form>
</div>
